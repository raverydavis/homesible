services:
  onedev: # TODO setup with db
    container_name: {{ onedev_container_name | default('onedev') }}
    image: docker.io/1dev/server:{{ onedev_version | default('latest') }}
    ports:
      - {{ onedev_published_port_http | default('6610') }}:6610
      - {{ onedev_published_port_https | default('6611') }}:6611
    env_file: {{ onedev_env_file | default('.secretfile-onedev') }}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - {{ onedev_data_path | default('/opt/onedev') }}:/opt/onedev